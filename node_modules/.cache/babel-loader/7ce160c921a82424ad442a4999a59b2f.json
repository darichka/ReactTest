{"ast":null,"code":"var _jsxFileName = \"/Users/a/Desktop/job/projects/React/test-app/ReactTest/src/App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\n\nfunction User(props) {\n  return React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 6\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 7\n    },\n    __self: this\n  }, props.user.firstName), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 8\n    },\n    __self: this\n  }, props.user.lastName), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9\n    },\n    __self: this\n  }, props.user.dob.slice(0, 10)));\n}\n\nfunction renderUsers(month) {\n  return month.users.map(user => {\n    return React.createElement(User, {\n      user: user,\n      key: user.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 18\n      },\n      __self: this\n    });\n  });\n}\n\nfunction Month(props) {\n  const classes = [\"listOfUsers\"];\n\n  if (props.month.displayUsers) {\n    classes.push(\"displayUsers\");\n  }\n\n  return React.createElement(\"div\", {\n    className: \"monthContainer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"monthName\",\n    style: {\n      backgroundColor: detectColor(props.month.count)\n    },\n    onMouseEnter: props.onMouseEnter,\n    onMouseLeave: props.onMouseLeave,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, props.month.name + \" (\" + props.month.count + \")\"), React.createElement(\"table\", {\n    className: classes.join(' '),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, renderUsers(props.month))));\n}\n\nfunction detectColor(count) {\n  if (count < 3) return \"#A9A9A9\";\n  if (count < 7) return \"#00BFFF\";\n  if (count < 11) return \"#32CD32\";\n  return \"#F08080\";\n}\n\nfunction devideByMonthes(users) {\n  let monthes = initializeMonthes();\n  users.forEach(user => {\n    let dateOfBirth = new Date(user.dob);\n\n    for (let i = 0; i < monthes.length; i++) {\n      if (dateOfBirth.getUTCMonth() === monthes[i].id) {\n        addUserToMonth(monthes[i], user);\n        break;\n      }\n    }\n  });\n  return monthes;\n}\n\nfunction initializeMonthes() {\n  const monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n  let monthes = [];\n\n  for (let i = 0; i < monthNames.length; i++) {\n    let month = {\n      id: i,\n      name: monthNames[i],\n      count: 0,\n      users: [],\n      displayUsers: false\n    };\n    monthes.push(month);\n  }\n\n  return monthes;\n}\n\nfunction addUserToMonth(month, user) {\n  month.count++;\n  month.users.push(user);\n}\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      monthes: []\n    };\n  }\n\n  componentDidMount() {\n    const url = 'https://yalantis-react-school.herokuapp.com/api/task0/users';\n    fetch(url).then(result => result.json()).then(result => {\n      this.setState({\n        monthes: devideByMonthes(result)\n      });\n    });\n  }\n\n  handleMouseEnter(id) {\n    const monthes = this.state.monthes.concat();\n    const month = monthes.find(m => m.id === id);\n    month.displayUsers = true;\n    this.setState({\n      monthes\n    });\n  }\n\n  handleMouseLeave(id) {\n    const monthes = this.state.monthes.concat();\n    const month = monthes.find(m => m.id === id);\n    month.displayUsers = false;\n    this.setState({\n      monthes\n    });\n  }\n\n  renderMonthes() {\n    return this.state.monthes.map(month => {\n      return React.createElement(Month, {\n        month: month,\n        key: month.id,\n        onMouseEnter: this.handleMouseEnter.bind(this, month.id),\n        onMouseLeave: this.handleMouseLeave.bind(this, month.id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      });\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"usersContainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, this.renderMonthes());\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/a/Desktop/job/projects/React/test-app/ReactTest/src/App.js"],"names":["React","Component","User","props","user","firstName","lastName","dob","slice","renderUsers","month","users","map","id","Month","classes","displayUsers","push","backgroundColor","detectColor","count","onMouseEnter","onMouseLeave","name","join","devideByMonthes","monthes","initializeMonthes","forEach","dateOfBirth","Date","i","length","getUTCMonth","addUserToMonth","monthNames","App","state","componentDidMount","url","fetch","then","result","json","setState","handleMouseEnter","concat","find","m","handleMouseLeave","renderMonthes","bind","render"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport './App.css';\n\nfunction User(props){\n  return(\n    <tr>\n      <td>{props.user.firstName}</td>\n      <td>{props.user.lastName}</td>\n      <td>{props.user.dob.slice(0,10)}</td>\n    </tr>\n  )\n}\n\nfunction renderUsers(month){\n  return (\n      month.users.map( user => {\n        return(\n            <User user={user} key={user.id} />\n        )})\n  )\n}\n\nfunction Month(props){\n  const classes = [\"listOfUsers\"];\n  if(props.month.displayUsers){\n    classes.push(\"displayUsers\");\n  }\n  return(\n    <div className=\"monthContainer\">\n      <div className=\"monthName\" style={{backgroundColor: detectColor(props.month.count)}} onMouseEnter={props.onMouseEnter} onMouseLeave={props.onMouseLeave}>\n        {props.month.name + \" (\" + props.month.count + \")\" }\n      </div>\n      <table className={classes.join(' ')}>\n        <tbody>\n        {renderUsers(props.month)}\n        </tbody>\n      </table>\n    </div>\n  )\n}\n\nfunction detectColor(count){\n    if(count < 3) return \"#A9A9A9\";\n    if( count  < 7) return \"#00BFFF\";\n    if( count < 11) return \"#32CD32\";\n    return \"#F08080\";\n}\n\nfunction devideByMonthes(users){\n  let monthes = initializeMonthes();\n  users.forEach(user => {\n    let dateOfBirth = new Date(user.dob);\n    for(let i = 0; i < monthes.length; i++ ){\n      if(dateOfBirth.getUTCMonth() === monthes[i].id){\n        addUserToMonth(monthes[i], user);\n        break;\n      }\n    }\n  });\n  return monthes;\n}\n\nfunction initializeMonthes(){\n  const monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\n  \"July\", \"August\", \"September\", \"October\", \"November\", \"December\" ];\n  let monthes = []\n  for(let i =0; i< monthNames.length; i++){\n    let month = {\n    id: i, \n    name: monthNames[i],\n    count: 0,\n    users: [], \n    displayUsers: false};\n    monthes.push(month);\n  }\n  return monthes;\n}\n\nfunction addUserToMonth(month, user){\n  month.count++;\n  month.users.push(user);\n}\n\nclass App extends Component {\n  state = {\n      monthes: []\n  }\n\n  componentDidMount() {\n      const url = 'https://yalantis-react-school.herokuapp.com/api/task0/users'\n        fetch(url)\n        .then(result => result.json())\n        .then(result => {\n          this.setState({\n            monthes: devideByMonthes(result)\n          });\n        })\n    }\n\n    handleMouseEnter(id){\n      const monthes = this.state.monthes.concat();\n      const month = monthes.find(m => m.id === id);\n      month.displayUsers = true;\n      this.setState({ monthes});\n    }\n    handleMouseLeave(id){\n      const monthes = this.state.monthes.concat();\n      const month = monthes.find(m => m.id === id);\n      month.displayUsers = false;\n      this.setState({ monthes});\n    }\n    renderMonthes(){\n      return(this.state.monthes.map(month =>{\n        return (\n          <Month \n          month={month} \n          key={month.id}\n          onMouseEnter={this.handleMouseEnter.bind(this, month.id)}\n          onMouseLeave={this.handleMouseLeave.bind(this, month.id)}/>\n        )\n      }))\n    }\n\n  render() {\n      return(\n        <div className=\"usersContainer\">\n          {\n            this.renderMonthes()\n          }\n        </div>\n     ) \n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}